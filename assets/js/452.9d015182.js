(window.webpackJsonp=window.webpackJsonp||[]).push([[452],{1343:function(t,a,s){"use strict";s.r(a);var n=s(17),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"网络优化策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络优化策略"}},[t._v("#")]),t._v(" 网络优化策略")]),t._v(" "),s("ul",[s("li",[t._v("减少HTTP请求数，请求可能包含很多js，css文件，所以合并js，css或者内嵌css，js到html中就可以减少HTTP请求了")]),t._v(" "),s("li",[t._v("合理设置服务端缓存（在服务端设置的，前端搞不了），某些文件已经缓存过了，那么也就不需要向服务器发请求了，这样提高服务器处理速度。（强制缓存，对比缓存）\n"),s("ul",[s("li",[t._v("强缓存：Expires/Cache-Control,设置了强缓存就可以不用向服务器发请求了")]),t._v(" "),s("li",[t._v("对比缓存：Etag/if-none-match/last-modified/if-modified-since")])])]),t._v(" "),s("li",[t._v("避免重定向，重定向会降低响应速度（即避免出现 301 302）")]),t._v(" "),s("li",[t._v("使用dns-prefetch，进行DNS预解析，比如可以看到淘宝，查看网页源码，可以看到")]),t._v(" "),s("li",[t._v("采用域名分片技术，将资源放到不同的域名下，接触同一个域名最多处理6个TCP链接问题")]),t._v(" "),s("li",[t._v("采用CDN加速加快访问速度（指派最近，高度可用）")]),t._v(" "),s("li",[t._v("gzip压缩优化，对传输资源进行体积压缩（比如对html，css，js文件进行压缩，但是图片就不要压缩了，可能会越压越大）")]),t._v(" "),s("li",[t._v("加载数据优先级:preload(是预先请求当前页面需要的资源，首页用preload) ，prefetch（将来页面中使用的资源，比如说路由懒加载，后期可能需要用到的路由,子路由等，子页用prefetch），将数据缓存到HTTP缓存中")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("style.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"静态文件优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态文件优化"}},[t._v("#")]),t._v(" 静态文件优化")]),t._v(" "),s("p",[t._v("补充下图片的格式：")]),t._v(" "),s("ul",[s("li",[t._v("jpg：适合色彩丰富的照片，比如banner图，但是不适合图形文字，图标（会有纹理边缘有锯齿），不支持透明度")]),t._v(" "),s("li",[t._v("png：适合纯色，透明，图标，支持半透明，不合适色彩丰富图片，因为无损存储会导致体积大")]),t._v(" "),s("li",[t._v("gif：适合动画，可以动得图标，不支持半透明，不适合存储彩色图片")]),t._v(" "),s("li",[t._v("webp：适合半透明图片，可以保证图片质量和较小的体积")]),t._v(" "),s("li",[t._v("svg：格式图片相比于jpg，它得体积更小，渲染成本过高，适合小且色彩单一的图标")])]),t._v(" "),s("h3",{attrs:{id:"图片优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片优化"}},[t._v("#")]),t._v(" 图片优化")]),t._v(" "),s("ul",[s("li",[t._v("避免src的图片（因为src也是会发请求的）")]),t._v(" "),s("li",[t._v("减小图片尺寸，节约用户流量")]),t._v(" "),s("li",[t._v("img标签一定要设置alt属性，提升图片加载失效时的用户体验")]),t._v(" "),s("li",[t._v("原生的loading：lazy图片懒加载")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("loading")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("lazy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./1.jpg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("450"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("不同环境下，加载不同尺寸和像素的图片,下面表示在100宽度的时候设置为1.jpg这张图片，在200宽度设置为2.jpg这张图")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("srcset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./1.jpg 100w,./2.jpg 200w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("对于较大的图片可以考虑采用渐进式图片（渐进式图片是ui设计师提供的）")]),t._v(" "),s("li",[t._v("采用base64URL减少图片请求，一般图标就可以采用base64，大的图片就不要用了")]),t._v(" "),s("li",[t._v("采用雪碧图合并图标图片等")])]),t._v(" "),s("h3",{attrs:{id:"html优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html优化"}},[t._v("#")]),t._v(" HTML优化")]),t._v(" "),s("ul",[s("li",[t._v("语义化HTML：代码简洁清晰，利用搜索引擎，便于团队开发")]),t._v(" "),s("li",[t._v("提前声明字符窜编码（正如页面中charset=uft-8），让流浪其快速确定如何渲染网页内容")]),t._v(" "),s("li",[t._v("减少HTML嵌套关系，减少DOM节点数量")]),t._v(" "),s("li",[t._v("删除多余空格，空行，注释，及无用的属性等")]),t._v(" "),s("li",[t._v("HTML减少iframes使用（iframe会阻塞onload事件，如果一定要使用iframe，可以动态加载iframe），子iframe会阻塞父页面的onload事件")]),t._v(" "),s("li",[t._v("避免使用table布局")])]),t._v(" "),s("blockquote",[s("p",[t._v("css优化")])]),t._v(" "),s("ul",[s("li",[t._v("减少伪类选择器，减少样式层数，减少使用通配符")]),t._v(" "),s("li",[t._v("避免使用css表达式，css表达式会频繁求值，当滚动页面，或者移动鼠标时都会重新计算（表达式只在IE6，7有效）")]),t._v(" "),s("li",[t._v("删除空行，注释，减少无意义的单位，对css进行压缩")]),t._v(" "),s("li",[t._v("使用外链css，可以对css进行缓存")]),t._v(" "),s("li",[t._v("添加媒体字段，只加载有效的css文件")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("screen and (min-width:1024px)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("CSS contain，属性将元素进行隔离")]),t._v(" "),s("li",[t._v("减少@import使用，由于@import采用的是蹿行加载")])]),t._v(" "),s("h3",{attrs:{id:"js优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js优化"}},[t._v("#")]),t._v(" JS优化")]),t._v(" "),s("ul",[s("li",[t._v("通过async、defer异步加载文件")]),t._v(" "),s("li",[t._v("减少DOM操作，缓存访问过的元素")]),t._v(" "),s("li",[t._v("操作不直接应用到DOM上，而应用到虚拟DOM上，最后一次性的应用到DOM上")]),t._v(" "),s("li",[t._v("使用webworker解决程序阻塞问题")]),t._v(" "),s("li",[t._v("IntersectionObserver：会根据当前的屏幕大小，展示合理的资源，比如屏幕只能放3张图片，那么网络就会先请求3张图片，当向下滚动的时候，就会再请求更多的图片，从而进行展示")]),t._v(" "),s("li",[t._v("虚拟滚动 vertual-srcoll-list  ，只显示屏幕区域内的，屏幕区域外的直接不显示")]),t._v(" "),s("li",[t._v("requestAnimationFrame 、requestIdleCall")]),t._v(" "),s("li",[t._v("尽量避免使用eval，消耗时间久")]),t._v(" "),s("li",[t._v("使用事件委托，减少事件绑定个数")]),t._v(" "),s("li",[t._v("尽量使用canvas动画，css动画")])])])}),[],!1,null,null,null);a.default=e.exports}}]);